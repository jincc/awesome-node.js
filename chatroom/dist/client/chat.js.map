{"version":3,"sources":["../../libs/client/chat.js"],"names":["Chat","socket","room","text","message","emit","newRoom","command","words","split","substring","length","toLowerCase","shift","rooms","join","changeRoom","name"],"mappings":";;;;;;IAAMA,I;AACF,kBAAYC,MAAZ,EAAmB;AAAA;;AACf,aAAKA,MAAL,GAAcA,MAAd;AACH;;;;oCACWC,I,EAAKC,I,EAAK;AAClB,gBAAMC,UAAU;AACZF,0BADY,EACPC;AADO,aAAhB;AAGA,iBAAKF,MAAL,CAAYI,IAAZ,CAAiB,SAAjB,EAA2BD,OAA3B;AACH;;;mCACUF,I,EAAK;AACZ,iBAAKD,MAAL,CAAYI,IAAZ,CAAiB,MAAjB,EAAwB,EAACC,SAAQJ,IAAT,EAAxB;AACH;AACF;;;;;;uCAGgBK,O,EAAQ;AACnB,gBAAIC,QAAQD,QAAQE,KAAR,CAAc,GAAd,CAAZ;AACA,gBAAIF,UAAUC,MAAM,CAAN,EAASE,SAAT,CAAmB,CAAnB,EAAqBF,MAAM,CAAN,EAASG,MAA9B,EAAsCC,WAAtC,EAAd;AACA,gBAAIR,UAAU,KAAd;AACA,oBAAQG,OAAR;AACI,qBAAK,MAAL;AACAC,0BAAMK,KAAN;AACA,wBAAIC,QAAQN,MAAMO,IAAN,CAAW,GAAX,CAAZ;AACA,yBAAKC,UAAL,CAAgBF,KAAhB;AACA;AACA,qBAAK,MAAL;AACAN,0BAAMK,KAAN;AACA,wBAAII,OAAOT,MAAMO,IAAN,CAAW,GAAX,CAAX;AACA,yBAAKd,MAAL,CAAYI,IAAZ,CAAiB,aAAjB,EAA+BY,IAA/B;AACA;AACA;AACAb,8BAAU,uBAAV;AACA;AAbJ;AAeA,mBAAOA,OAAP;AACH","file":"chat.js","sourcesContent":["class Chat {\n    constructor(socket){\n        this.socket = socket\n    }\n    sendMessage(room,text){\n        const message = {\n            room,text\n        }\n        this.socket.emit('message',message)\n    }\n    changeRoom(room){\n        this.socket.emit('join',{newRoom:room})\n    }\n   /**\n    * comand 输入的命令\n    */\n    processCommand(command){\n        var words = command.split(' ')\n        var command = words[0].substring(1,words[0].length).toLowerCase()\n        var message = false\n        switch (command){\n            case 'join':\n            words.shift()\n            var rooms = words.join(' ')\n            this.changeRoom(rooms)\n            break;\n            case 'nick':\n            words.shift()\n            var name = words.join(' ')\n            this.socket.emit('nameAttempt',name)\n            break;\n            default:\n            message = 'Unrecognized command.'\n            break;\n        }\n        return message\n    }\n}"]}